#! /usr/bin/env ruby

require "rubygems"
require File.expand_path("../lib/beetle", File.dirname(__FILE__))
require "optparse"

client_id = ""

opts = OptionParser.new 
opts.on("-r", "--redis-servers host1:port1,host2:port2,...", String) do |val|
  Beetle.config.redis_hosts = val || "localhost:6379, localhost:6380"
end
opts.parse!

Beetle.config.servers = "localhost:5672, localhost:5673"

# set Beetle log level to info, less noisy than debug
Beetle.config.logger.level = Logger::INFO

Beetle::RedisConfigurationClient.new(client_id).start
